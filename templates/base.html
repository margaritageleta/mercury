<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Mercury Notes</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=width-height, height=device-height, initial-scale=1.0, user-scalable=no">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="shortcut icon" href="">
        <script src="https://kit.fontawesome.com/ae7c3de316.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
        <link rel="stylesheet" type="text/css" href="/css/fonts.css">
        <link rel="stylesheet" type="text/css" href="/css/style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
        
        <script type="text/javascript">
            window.onload = () => {
                $("#btnPrint").click(function () {
                    console.log("Hi");
                    var pdf = new jsPDF({
                        orientation: 'p',
                        unit: 'mm',
                        format: 'a4'
                    });
                    pdf.addHTML(document.body,function() {
                        pdf.save('web.pdf');
                    });
                    console.log("Done");
                });
                
                $("#scale-doc").on("input change", function() {
                    document.getElementById('pages-wrapper').style.transform = "scale("+$('#scale-doc').val()/100+")";
                    
                    var pagesWrapper = document.querySelector('#pages-wrapper');

                    console.log(pagesWrapper.getBoundingClientRect().width);
                    console.log($("#table").outerWidth());

                    if (pagesWrapper.getBoundingClientRect().width > $("#table").outerWidth() ) {
                        console.log("OVERFLOW");
                        $("#table").css('justify-content','flex-start'); 
                    }
                    else {
                        $("#table").css('justify-content','center'); 
                    }
                    if (pagesWrapper.getBoundingClientRect().height > $("#table").outerHeight() ) {
                        console.log("OVERFLOW");
                        $("#table").css('align-items','flex-start'); 
                    }
                    else {
                        $("#table").css('align-items','center'); 
                    }
                });
            }

        </script>
    </head>

    <body>
        <main>
            <div>
                <nav>
                    <h1>Mercury Notes</h1>
                </nav>
                <section>
                    <p>Bye</p>
                    <input type="range" id="scale-doc" name="scale-doc" 
         min="1" max="100" value="10" step="1">
                    <input id="btnPrint" type="button" value="Print Div Contents"/>
                </section>
            </div>
            <div id="table">
                <div id= "pages-wrapper" class="pages-wrapper">
                    <section id="pages">
        
                    </section>   
                </div>    
    
    
    
                {# {% block content %}{% endblock %} #}
            </div> 
        </main>
    </body>
</html>